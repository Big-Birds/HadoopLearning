### 1、maven编写pom

#### 1.1、pom核心元素

* project：是所有pom.xml元素的根元素。可以声明一些命名空间以及xsd，使用这些xsd可以让第三方工具快速编辑pom
* modeVersion：根元素的一个子元素，指定当前pom模型版本
* groupId：定义属于哪个包
* artifactId：当前maven文件的唯一id
* version：当前项目的版本
* name：非必填，指定项目名称
* dependencies：可以包含多个dependency，声明依赖的坐标
* dependency：添加坐标依赖
* scope：依赖的范围

> groupId、artfactId、version是定义项目的基本坐标

#### 1.2、pom文件预览

<img src="images/maven/maven_4.png" width="500">

### 2、maven依赖详解

### 2.1、配置依赖

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project>
    <!--其它省略，就关注下面-->
    <dependencies>
        <dependency>
            <groupId></groupId>
            <artfactId></artfactId>
            <version></version>
            <tyep>依赖类型</tyep>
            <scope>依赖范围</scope>
            <optional>可选依赖</optional>
            <exclusions>
                排除依赖
                <exclusion>
                    <groupId></groupId>
                    <artfactId></artfactId>
                </exclusion>
            </exclusions>
        </dependency>
    </dependencies>
</project>
```

**其中**

1. type：为依赖的类型，默认为jar，对应项目坐标定义的packageing
1. scope：依赖范围，依赖范围就是控制与三种classpath(编译、测试、运行)的关系，包含值有
    1. compile：编译范围依赖，默认为该依赖范围，对编译、测试、运行三种classpath都有效。如：log4j
    1. provided：已提供依赖范围，对编译和测试有效，运行无效。如：servlet-api
    1. runtime：运行依赖范围，对测试运行有效，编译无效。如：jdbc驱动
    1. test：测试依赖范围，对编译和测试有效，运行时无效。如：junit
    1. import：导入依赖范围，不会对三种classpath造成影响
    1. system：系统依赖范围，和provided一样，但是和系统环境有关，慎用
1. optional：是否关闭传递依赖，false默认是传递依赖，true是屏蔽传递依赖
1. exclusions：指定需要排除的依赖(只需要指定groupId和artfactId)

**传递依赖**

<img src="images/maven/maven_5.png" width="500">

**可选依赖**

<img src="images/maven/maven_6.png" width="500">

> 原则为：路径最近优先；第一声明优先

#### 2.2、归类依赖

如果统一个项目中的不同模块如hadoop-common、hadoop-hdfs等等，他们的依赖版本都是相同的，就可以使用归类依赖
这样依赖版本就可以进行统一升级

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project>
    <properties>
        <scala.version>${scala.suffix.version}.8</scala.version>
    </properties>
    <dependencies>
        <dependency>
            <groupId>org.scala-lang</groupId>
            <artifactId>scala-library</artifactId>
            <version>${scala.version}</version>
        </dependency>
        <dependency>
            <groupId>org.scala-lang</groupId>
            <artifactId>scala-compiler</artifactId>
            <version>${scala.version}</version>
        </dependency>
    </dependencies>
</project>
```



### 3、maven聚合和继承


### 4、maven灵活构建